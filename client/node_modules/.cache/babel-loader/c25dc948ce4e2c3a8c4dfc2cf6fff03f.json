{"ast":null,"code":"import _defineProperty from\"/Users/admin/Desktop/my-mern-form/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/admin/Desktop/my-mern-form/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/admin/Desktop/my-mern-form/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useState,useEffect}from'react';//import logo from './logo.svg';\nimport'./App.css';import axios from\"axios\";function App(){var _useState=useState([{title:'',genre:'',year:''}]),_useState2=_slicedToArray(_useState,2),artwalks=_useState2[0],setArtwalks=_useState2[1];var _useState3=useState({title:'',genre:'',year:''}),_useState4=_slicedToArray(_useState3,2),artwalk=_useState4[0],setArtwalk=_useState4[1];useEffect(function(){fetch('/artwalks').then(function(res){if(res.ok){return res.json();}}).then(function(jsonRes){return setArtwalks(jsonRes);});});function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setArtwalk(function(prevInput){return _objectSpread(_objectSpread({},prevInput),{},_defineProperty({},name,value));});}function addArtwalk(e){e.preventDefault();alert(\"artwalk added\");var newArtwalk={title:artwalk.title,genre:artwalk.genre,year:artwalk.year};axios.post('/newartwalk',newArtwalk);}function deleteArtwalk(id){axios.delete('/delete/'+id);alert(\"artwalk deleted\");}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Artwalk\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,name:\"title\",value:artwalk.title}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,name:\"genre\",value:artwalk.genre}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,name:\"year\",value:artwalk.year}),/*#__PURE__*/_jsx(\"button\",{onClick:addArtwalk,children:\"Add artwalk\"})]}),artwalks.map(function(artwalk){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:artwalk.title}),/*#__PURE__*/_jsx(\"p\",{children:artwalk.genre}),/*#__PURE__*/_jsx(\"p\",{children:artwalk.year}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteArtwalk(artwalk._id);},children:\"DELETE\"})]});})]});}export default App;","map":{"version":3,"sources":["/Users/admin/Desktop/my-mern-form/client/src/App.js"],"names":["useState","useEffect","axios","App","title","genre","year","artwalks","setArtwalks","artwalk","setArtwalk","fetch","then","res","ok","json","jsonRes","handleChange","e","target","name","value","prevInput","addArtwalk","preventDefault","alert","newArtwalk","post","deleteArtwalk","id","delete","map","_id"],"mappings":"sjBAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA;AACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,GAAT,EAAe,eACmBH,QAAQ,CAAC,CACvC,CACEI,KAAK,CAAE,EADT,CAEEC,KAAK,CAAE,EAFT,CAGEC,IAAI,CAAE,EAHR,CADuC,CAAD,CAD3B,wCACNC,QADM,eACIC,WADJ,8BASiBR,QAAQ,CACpC,CACEI,KAAK,CAAE,EADT,CAEEC,KAAK,CAAE,EAFT,CAGEC,IAAI,CAAE,EAHR,CADoC,CATzB,yCASNG,OATM,eASGC,UATH,eAiBbT,SAAS,CAAC,UAAM,CACdU,KAAK,CAAC,WAAD,CAAL,CAAmBC,IAAnB,CAAwB,SAAAC,GAAG,CAAI,CAC7B,GAAGA,GAAG,CAACC,EAAP,CAAW,CACT,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACD,CACF,CAJD,EAIGH,IAJH,CAIQ,SAAAI,OAAO,QAAIR,CAAAA,WAAW,CAACQ,OAAD,CAAf,EAJf,EAKD,CANQ,CAAT,CAQA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,eACDA,CAAC,CAACC,MADD,CAChBC,IADgB,WAChBA,IADgB,CACVC,KADU,WACVA,KADU,CAEvBX,UAAU,CAAC,SAAAY,SAAS,CAAI,CACtB,sCAEOA,SAFP,wBAGKF,IAHL,CAGYC,KAHZ,GAMD,CAPS,CAAV,CAQD,CAED,QAASE,CAAAA,UAAT,CAAoBL,CAApB,CAAuB,CACrBA,CAAC,CAACM,cAAF,GACAC,KAAK,CAAC,eAAD,CAAL,CACA,GAAMC,CAAAA,UAAU,CAAG,CACjBtB,KAAK,CAAEK,OAAO,CAACL,KADE,CAEjBC,KAAK,CAAEI,OAAO,CAACJ,KAFE,CAGjBC,IAAI,CAAEG,OAAO,CAACH,IAHG,CAAnB,CAMAJ,KAAK,CAACyB,IAAN,CAAW,aAAX,CAA0BD,UAA1B,EACD,CAED,QAASE,CAAAA,aAAT,CAAuBC,EAAvB,CAA2B,CACzB3B,KAAK,CAAC4B,MAAN,CAAa,WAAaD,EAA1B,EACAJ,KAAK,CAAC,iBAAD,CAAL,CACD,CAED,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,mCADF,cAEE,qCACE,cAAO,QAAQ,CAAER,YAAjB,CAA+B,IAAI,CAAC,OAApC,CAA4C,KAAK,CAAER,OAAO,CAACL,KAA3D,EADF,cAEE,cAAO,QAAQ,CAAEa,YAAjB,CAA+B,IAAI,CAAC,OAApC,CAA4C,KAAK,CAAER,OAAO,CAACJ,KAA3D,EAFF,cAGE,cAAO,QAAQ,CAAEY,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,KAAK,CAAER,OAAO,CAACH,IAA1D,EAHF,cAIE,eAAQ,OAAO,CAAEiB,UAAjB,yBAJF,GAFF,CASGhB,QAAQ,CAACwB,GAAT,CAAa,SAAAtB,OAAO,CAAI,CACvB,mBACE,oCACE,oBAAKA,OAAO,CAACL,KAAb,EADF,cAEE,mBAAIK,OAAO,CAACJ,KAAZ,EAFF,cAGE,mBAAII,OAAO,CAACH,IAAZ,EAHF,cAIE,eAAQ,OAAO,CAAE,yBAAMsB,CAAAA,aAAa,CAACnB,OAAO,CAACuB,GAAT,CAAnB,EAAjB,oBAJF,GADF,CAQD,CATA,CATH,GADF,CAsBD,CAED,cAAe7B,CAAAA,GAAf","sourcesContent":["import {useState, useEffect} from 'react';\n//import logo from './logo.svg';\nimport './App.css';\nimport axios from \"axios\";\n\nfunction App() {\n  const [artwalks, setArtwalks] = useState([\n    {\n      title: '',\n      genre: '',\n      year: ''\n    }\n  ])\n\n  const [artwalk, setArtwalk] = useState(\n    {\n      title: '',\n      genre: '',\n      year: ''\n    }\n  )\n\n  useEffect(() => {\n    fetch('/artwalks').then(res => {\n      if(res.ok) {\n        return res.json()\n      }\n    }).then(jsonRes => setArtwalks(jsonRes))\n  })\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setArtwalk(prevInput => {\n      return(\n        {\n          ...prevInput,\n          [name]: value\n        }\n      )\n    })\n  }\n\n  function addArtwalk(e) {\n    e.preventDefault();\n    alert(\"artwalk added\");\n    const newArtwalk = {\n      title: artwalk.title,\n      genre: artwalk.genre,\n      year: artwalk.year\n    }\n\n    axios.post('/newartwalk', newArtwalk);\n  }\n\n  function deleteArtwalk(id) {\n    axios.delete('/delete/' + id);\n    alert(\"artwalk deleted\");\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Add Artwalk</h1>\n      <form>\n        <input onChange={handleChange} name=\"title\" value={artwalk.title}></input>\n        <input onChange={handleChange} name=\"genre\" value={artwalk.genre}></input>\n        <input onChange={handleChange} name=\"year\" value={artwalk.year}></input>\n        <button onClick={addArtwalk}>Add artwalk</button>\n      </form>\n\n      {artwalks.map(artwalk => {\n        return (\n          <div>\n            <h1>{artwalk.title}</h1>\n            <p>{artwalk.genre}</p>\n            <p>{artwalk.year}</p>\n            <button onClick={() => deleteArtwalk(artwalk._id)}>DELETE</button>\n          </div>\n        ) \n      })}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}